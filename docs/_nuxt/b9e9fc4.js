(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{306:function(t,e,o){var content=o(319);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(111).default)("38699858",content,!1,{sourceMap:!1})},318:function(t,e,o){"use strict";o(306)},319:function(t,e,o){var l=o(110)((function(i){return i[1]}));l.push([t.i,".confirm-image[data-v-850b5082]{height:auto;width:100%}",""]),l.locals={},t.exports=l},326:function(t,e,o){"use strict";o.r(e);o(112),o(209),o(210),o(211);var l=o(13),n=(o(52),o(15),o(208),o(24),o(206),o(26),o(27),o(301),o(207),o(36),{name:"TodaysResult",layout:"operation",head:{title:"Todays Result"},asyncData:function(){return Object(l.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){var e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@100;200;300;400;500;600;700;800;900&display=swap",e.rel="stylesheet",document.head.appendChild(e),e.onload=t}));case 2:case"end":return t.stop()}}),t)})))()},data:function(){return{inputTeamNameA:"",inputTeamNameB:"",inputPlayerNameA:[],inputPlayerNameB:[],inputEntryLineA:"",inputEntryLineB:"",logoImageA:null,logoImageB:null,defaultLogoA:null,defaultLogoB:null,inputScoreA:0,inputScoreB:0,inputCommentary:"",inputObserver:"",inputStartTime:"",imageDataURL:null,imageName:"generated_image.png",baseImageUrl:"/ink-wave/todays_result/todays_result.jpg",defaultLogoPath:"/ink-wave/default_logo/",canvasWidth:1920,canvasHeight:1080,logoData:[{id:null,name:"None...",image:null},{id:1,name:"Blue",image:"logo_a"},{id:2,name:"Red",image:"logo_b"},{id:3,name:"Green",image:"logo_c"},{id:4,name:"Orange",image:"logo_d"}]}},computed:{selectLogoA:function(){var t=this,e=this.logoData.find((function(e){return e.id===t.defaultLogoA}));return e?this.defaultLogoPath+e.image+".png":null},selectLogoB:function(){var t=this,e=this.logoData.find((function(e){return e.id===t.defaultLogoB}));return e?this.defaultLogoPath+e.image+".png":null}},methods:{generateImage:function(){var t=this,canvas=this.$refs.imageCanvas;if(!canvas||!canvas.getContext)return!1;var e=canvas.getContext("2d"),o=new Image;o.src=this.baseImageUrl,o.onload=function(){e.drawImage(o,0,0,t.canvasWidth,t.canvasHeight),e.fillStyle="white",e.font="bold 28px 'Noto Sans JP', sans-serif",e.fillText(t.inputCommentary,973,205),e.fillText(t.inputObserver,973,256),e.fillText(t.inputStartTime,973,155);var l=455,n=455,r=new Image,c=new Image;(t.logoImageA&&t.logoImageA.type&&t.logoImageA.type.match("image/")||t.defaultLogoA)&&(t.logoImageA&&t.logoImageA.type&&t.logoImageA.type.match("image/")?r.src=URL.createObjectURL(t.logoImageA):r.src=t.selectLogoA,r.onload=function(){var o=l,c=n;if(r.width===r.height)o=r.width<=l?r.width:l,c=r.height<=n?r.height:n;else if(r.width>r.height){o=r.width<=l?r.width:l;var m=r.width/o;c=r.height/m}else{c=r.height<=n?r.height:n;var d=r.height/c;o=r.width/d}var v=(718-o)/2+131.5,f=(554-c)/2+49.5;console.log([v,f]),e.drawImage(r,v,f,o,c),t.logoImageA&&t.logoImageA.type&&t.logoImageA.type.match("image/")&&URL.revokeObjectURL(r.src),t.imageDataURL=canvas.toDataURL()});(t.logoImageB&&t.logoImageB.type&&t.logoImageB.type.match("image/")||t.defaultLogoB)&&(t.logoImageB&&t.logoImageB.type&&t.logoImageB.type.match("image/")?c.src=URL.createObjectURL(t.logoImageB):c.src=t.selectLogoB,c.onload=function(){var o=l,r=n;if(c.width===c.height)o=c.width<=l?c.width:l,r=c.height<=n?c.height:n;else if(c.width>c.height){o=c.width<=l?c.width:l;var m=c.width/o;r=c.height/m}else{r=c.height<=n?c.height:n;var d=c.height/r;o=c.width/d}var v=(1647-o)/2+596,f=(554-r)/2+49.5;console.log([v,f]),e.drawImage(c,v,f,o,r),t.logoImageB&&t.logoImageB.type&&t.logoImageB.type.match("image/")&&URL.revokeObjectURL(c.src),t.imageDataURL=canvas.toDataURL()}),e.fillStyle="#BFCAE6",e.textAlign="right",e.font="bold 36px 'Noto Sans JP', sans-serif",e.fillText(t.inputTeamNameA,725,616),e.fillStyle="white",e.font="bold 42px 'Noto Sans JP', sans-serif",t.inputPlayerNameA.forEach((function(t,o){e.fillText(t,895,713+83*o)})),e.fillStyle="#BFCAE6",e.textAlign="left",e.font="bold 36px 'Noto Sans JP', sans-serif",e.fillText(t.inputTeamNameB,1194,616),e.fillStyle="white",e.font="bold 42px 'Noto Sans JP', sans-serif",t.inputPlayerNameB.forEach((function(t,o){e.fillText(t,1024,713+83*o)})),e.font="bold 218px 'Noto Sans JP', sans-serif",e.fillText(t.inputScoreA,44,1022),e.fillText(t.inputScoreB,1770,1022),t.imageDataURL=canvas.toDataURL()}},inputData:function(){var t=[],e=[];this.inputEntryLineA&&(t=this.inputEntryLineA.split("\t"),this.inputPlayerNameA=[],t.length>31&&(this.inputTeamNameA=t[1],this.inputPlayerNameA.push(t[5],t[11],t[16],t[21]),""!==t[3]||(this.defaultLogoA=this.getDefaultLog(t[4])))),this.inputEntryLineB&&(e=this.inputEntryLineB.split("\t"),this.inputPlayerNameB=[],e.length>31&&(this.inputTeamNameB=e[1],this.inputPlayerNameB.push(e[5],e[11],e[16],e[21]),""!==e[3]||(this.defaultLogoB=this.getDefaultLog(e[4]))))},getDefaultLog:function(t){switch(t){case"ブルー":return 1;case"レッド":return 2;case"グリーン":return 3;case"オレンジ":return 4;default:return null}}}}),r=(o(318),o(38)),component=Object(r.a)(n,(function(){var t=this,e=t._self._c;return e("v-row",{attrs:{justify:"center",align:"center"}},[e("v-col",{attrs:{cols:"12"}},[e("v-card",{staticClass:"mb-3"},[e("v-card-title",{staticClass:"headline"},[t._v("\n                Todays Result\n            ")]),t._v(" "),e("v-card-text",[e("v-row",{attrs:{justify:"start"}},[e("v-col",{attrs:{cols:"5"}},[e("v-text-field",{attrs:{label:"Team A",hint:"申請リストから行コピーして貼り付けしてください"},model:{value:t.inputEntryLineA,callback:function(e){t.inputEntryLineA=e},expression:"inputEntryLineA"}})],1),t._v(" "),e("v-col",{attrs:{cols:"5"}},[e("v-text-field",{attrs:{label:"Team B",hint:"申請リストから行コピーして貼り付けしてください"},model:{value:t.inputEntryLineB,callback:function(e){t.inputEntryLineB=e},expression:"inputEntryLineB"}})],1),t._v(" "),e("v-col",{attrs:{cols:"2"}},[e("v-btn",{attrs:{color:"primary"},on:{click:t.inputData}},[t._v(" 取り込む ")])],1),t._v(" "),e("v-col",{attrs:{cols:"12"}},[e("v-text-field",{attrs:{label:"Team NameA"},model:{value:t.inputTeamNameA,callback:function(e){t.inputTeamNameA=e},expression:"inputTeamNameA"}})],1),t._v(" "),t._l(5,(function(i){return e("v-col",{key:i,attrs:{cols:"12",sm:"6"}},[e("v-row",{attrs:{justify:"start"}},[e("v-col",{attrs:{cols:"12"}},[e("v-text-field",{attrs:{maxlength:"10",label:"Player"+i},model:{value:t.inputPlayerNameA[i-1],callback:function(e){t.$set(t.inputPlayerNameA,i-1,e)},expression:"inputPlayerNameA[i - 1]"}})],1)],1)],1)})),t._v(" "),e("v-col",{attrs:{cols:"8"}},[e("v-file-input",{attrs:{label:"Logo ImageA",disabled:t.defaultLogoA},model:{value:t.logoImageA,callback:function(e){t.logoImageA=e},expression:"logoImageA"}})],1),t._v(" "),e("v-col",{attrs:{cols:"3"}},[e("v-select",{attrs:{items:t.logoData,"item-text":"name","item-value":"id",density:"compact",label:"Default LogoA",disabled:t.logoImageA},model:{value:t.defaultLogoA,callback:function(e){t.defaultLogoA=e},expression:"defaultLogoA"}})],1),t._v(" "),e("v-col",{attrs:{cols:"1"}},[t.defaultLogoA?e("v-img",{attrs:{src:t.selectLogoA,"max-height":"50","max-width":"50"}}):t._e()],1),t._v(" "),e("v-col",{attrs:{cols:"12"}},[e("v-text-field",{attrs:{label:"Team NameB"},model:{value:t.inputTeamNameB,callback:function(e){t.inputTeamNameB=e},expression:"inputTeamNameB"}})],1),t._v(" "),t._l(5,(function(i){return e("v-col",{key:i,attrs:{cols:"12",sm:"6"}},[e("v-row",{attrs:{justify:"start"}},[e("v-col",{attrs:{cols:"12"}},[e("v-text-field",{attrs:{maxlength:"10",label:"Player"+i},model:{value:t.inputPlayerNameB[i-1],callback:function(e){t.$set(t.inputPlayerNameB,i-1,e)},expression:"inputPlayerNameB[i - 1]"}})],1)],1)],1)})),t._v(" "),e("v-col",{attrs:{cols:"8"}},[e("v-file-input",{attrs:{label:"Logo ImageB",disabled:t.defaultLogoB},model:{value:t.logoImageB,callback:function(e){t.logoImageB=e},expression:"logoImageB"}})],1),t._v(" "),e("v-col",{attrs:{cols:"3"}},[e("v-select",{attrs:{items:t.logoData,"item-text":"name","item-value":"id",density:"compact",label:"Default LogoB",disabled:t.logoImageB},model:{value:t.defaultLogoB,callback:function(e){t.defaultLogoB=e},expression:"defaultLogoB"}})],1),t._v(" "),e("v-col",{attrs:{cols:"1"}},[t.defaultLogoB?e("v-img",{attrs:{src:t.selectLogoB,"max-height":"50","max-width":"50"}}):t._e()],1),t._v(" "),e("v-col",{attrs:{cols:"4"}},[e("v-text-field",{attrs:{label:"START"},model:{value:t.inputStartTime,callback:function(e){t.inputStartTime=e},expression:"inputStartTime"}})],1),t._v(" "),e("v-col",{attrs:{cols:"4"}},[e("v-text-field",{attrs:{label:"実況"},model:{value:t.inputCommentary,callback:function(e){t.inputCommentary=e},expression:"inputCommentary"}})],1),t._v(" "),e("v-col",{attrs:{cols:"4"}},[e("v-text-field",{attrs:{label:"オブザーバー"},model:{value:t.inputObserver,callback:function(e){t.inputObserver=e},expression:"inputObserver"}})],1),t._v(" "),e("v-col",{attrs:{cols:"6"}},[e("v-text-field",{attrs:{label:"ScoreA"},model:{value:t.inputScoreA,callback:function(e){t.inputScoreA=e},expression:"inputScoreA"}})],1),t._v(" "),e("v-col",{attrs:{cols:"6"}},[e("v-text-field",{attrs:{label:"ScoreB"},model:{value:t.inputScoreB,callback:function(e){t.inputScoreB=e},expression:"inputScoreB"}})],1)],2)],1),t._v(" "),e("v-card-actions",[e("v-spacer"),t._v(" "),e("v-btn",{attrs:{color:"primary"},on:{click:t.generateImage}},[t._v(" スライド作成 ")])],1)],1),t._v(" "),e("v-card",{directives:[{name:"show",rawName:"v-show",value:t.imageDataURL,expression:"imageDataURL"}],staticClass:"pt-1 pr-1 pl-1"},[e("canvas",{ref:"imageCanvas",staticClass:"confirm-image",attrs:{width:t.canvasWidth,height:t.canvasHeight}}),t._v(" "),e("v-card-actions",[e("v-spacer"),t._v(" "),t.imageDataURL?e("v-btn",{attrs:{color:"primary",href:t.imageDataURL,download:t.imageName}},[t._v("Download\n                    Image")]):t._e()],1)],1)],1)],1)}),[],!1,null,"850b5082",null);e.default=component.exports}}]);