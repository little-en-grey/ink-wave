(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{338:function(e,t,o){var content=o(352);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(84).default)("e1ae5c78",content,!1,{sourceMap:!1})},351:function(e,t,o){"use strict";o(338)},352:function(e,t,o){var l=o(83)((function(i){return i[1]}));l.push([e.i,".confirm-image[data-v-7ec53be0]{height:auto;width:100%}",""]),l.locals={},e.exports=l},358:function(e,t,o){"use strict";o.r(t);var l=o(10),n=(o(43),o(15),o(24),o(209),o(26),o(27),o(332),o(210),o(211),{name:"TodaysResult2",layout:"operation",head:{title:"Todays Result2"},asyncData:function(){return Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){var t=document.createElement("link");t.href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@100;200;300;400;500;600;700;800;900&display=swap",t.rel="stylesheet",document.head.appendChild(t),t.onload=e}));case 2:case"end":return e.stop()}}),e)})))()},data:function(){return{count:4,inputTeamNameA:[],inputTeamNameB:[],inputScoreA:[],inputScoreB:[],logoImageA:[],logoImageB:[],defaultLogoA:[],defaultLogoB:[],imageDataURL:null,imageName:"generated_image.png",baseImageUrl:"/ink-wave/todays_result/todays_result2.jpg",thumbnailImageUrl:"/ink-wave/todays_result/thumb.jpg",defaultLogoPath:"/ink-wave/default_logo/",canvasWidth:1920,canvasHeight:1080,logoData:[{id:null,name:"None...",image:null},{id:1,name:"Blue",image:"logo_a"},{id:2,name:"Red",image:"logo_b"},{id:3,name:"Green",image:"logo_c"},{id:4,name:"Orange",image:"logo_d"}],seasonNo:"",dayNo:"",logoImageCommentary:"",logoImageExplanation:""}},methods:{generateImage:function(){var e=this,canvas=this.$refs.imageCanvas;if(!canvas||!canvas.getContext)return!1;var t=canvas.getContext("2d"),o=new Image;o.src=this.baseImageUrl,o.onload=function(){t.drawImage(o,0,0,e.canvasWidth,e.canvasHeight),t.fillStyle="white";for(var l=172,n=172,r=233,m=function(i){var o=new Image,m=new Image;(e.logoImageA[i]&&e.logoImageA[i].type&&e.logoImageA[i].type.match("image/")||e.defaultLogoA[i])&&(e.logoImageA[i]&&e.logoImageA[i].type&&e.logoImageA[i].type.match("image/")?o.src=URL.createObjectURL(e.logoImageA[i]):o.src=e.selectLogo(e.defaultLogoA[i]),o.onload=function(){var m=l,c=n;if(o.width===o.height)m=o.width<=l?o.width:l,c=o.height<=n?o.height:n;else if(o.width>o.height){m=o.width<=l?o.width:l;var d=o.width/m;c=o.height/d}else{c=o.height<=n?o.height:n;var h=o.height/c;m=o.width/h}var v=(216-m)/2+22,f=(n+(r+180*i)-c)/2+(r+180*i)/2;t.drawImage(o,v,f,m,c),e.logoImageA[i]&&e.logoImageA[i].type&&e.logoImageA[i].type.match("image/")&&URL.revokeObjectURL(o.src),e.imageDataURL=canvas.toDataURL()}),(e.logoImageB[i]&&e.logoImageB[i].type&&e.logoImageB[i].type.match("image/")||e.defaultLogoB[i])&&(e.logoImageB[i]&&e.logoImageB[i].type&&e.logoImageB[i].type.match("image/")?m.src=URL.createObjectURL(e.logoImageB[i]):m.src=e.selectLogo(e.defaultLogoB[i]),m.onload=function(){var o=l,c=n;if(m.width===m.height)o=m.width<=l?m.width:l,c=m.height<=n?m.height:n;else if(m.width>m.height){o=m.width<=l?m.width:l;var d=m.width/o;c=m.height/d}else{c=m.height<=n?m.height:n;var h=m.height/c;o=m.width/h}var v=(1864-o)/2+846,f=(n+(r+180*i)-c)/2+(r+180*i)/2;t.drawImage(m,v,f,o,c),e.logoImageB[i]&&e.logoImageB[i].type&&e.logoImageB[i].type.match("image/")&&URL.revokeObjectURL(m.src),e.imageDataURL=canvas.toDataURL()}),t.textAlign="right",t.font="bold 50px 'Noto Sans JP', sans-serif",void 0!==e.inputTeamNameA[i]&&t.fillText(e.inputTeamNameA[i],775,338+180*i),t.textAlign="left",void 0!==e.inputTeamNameB[i]&&t.fillText(e.inputTeamNameB[i],1144,338+180*i),t.font="bold 110px 'Noto Sans JP', sans-serif",void 0!==e.inputScoreA[i]&&t.fillText(e.inputScoreA[i],835,358+180*i),void 0!==e.inputScoreB[i]&&t.fillText(e.inputScoreB[i],1040,358+180*i)},i=0;i<e.count;i++)m(i);e.imageDataURL=canvas.toDataURL()}},generateImageThumbnail:function(){var e=this,canvas=this.$refs.imageCanvas;if(!canvas||!canvas.getContext)return!1;var t=canvas.getContext("2d"),o=new Image;o.src=this.thumbnailImageUrl,o.onload=function(){t.drawImage(o,0,0,e.canvasWidth,e.canvasHeight),t.fillStyle="white";for(var l=164,n=164,r=325,m=function(i){var o=new Image,m=new Image;(e.logoImageA[i]&&e.logoImageA[i].type&&e.logoImageA[i].type.match("image/")||e.defaultLogoA[i])&&(e.logoImageA[i]&&e.logoImageA[i].type&&e.logoImageA[i].type.match("image/")?o.src=URL.createObjectURL(e.logoImageA[i]):o.src=e.selectLogo(e.defaultLogoA[i]),o.onload=function(){var m=l,c=n;if(o.width===o.height)m=o.width<=l?o.width:l,c=o.height<=n?o.height:n;else if(o.width>o.height){m=o.width<=l?o.width:l;var d=o.width/m;c=o.height/d}else{c=o.height<=n?o.height:n;var h=o.height/c;m=o.width/h}var v=(303-m)/2+69.5,f=(n+(r+180*i)-c)/2+(r+180*i)/2;t.drawImage(o,v,f,m,c),e.logoImageA[i]&&e.logoImageA[i].type&&e.logoImageA[i].type.match("image/")&&URL.revokeObjectURL(o.src),e.imageDataURL=canvas.toDataURL()}),(e.logoImageB[i]&&e.logoImageB[i].type&&e.logoImageB[i].type.match("image/")||e.defaultLogoB[i])&&(e.logoImageB[i]&&e.logoImageB[i].type&&e.logoImageB[i].type.match("image/")?m.src=URL.createObjectURL(e.logoImageB[i]):m.src=e.selectLogo(e.defaultLogoB[i]),m.onload=function(){var o=l,c=n;if(m.width===m.height)o=m.width<=l?m.width:l,c=m.height<=n?m.height:n;else if(m.width>m.height){o=m.width<=l?m.width:l;var d=m.width/o;c=m.height/d}else{c=m.height<=n?m.height:n;var h=m.height/c;o=m.width/h}var v=(1771-o)/2+803.5,f=(n+(r+180*i)-c)/2+(r+180*i)/2;t.drawImage(m,v,f,o,c),e.logoImageB[i]&&e.logoImageB[i].type&&e.logoImageB[i].type.match("image/")&&URL.revokeObjectURL(m.src),e.imageDataURL=canvas.toDataURL()}),t.textAlign="right",t.font="bold 50px 'Noto Sans JP', sans-serif",void 0!==e.inputTeamNameA[i]&&t.fillText(e.inputTeamNameA[i],855,430+180*i),t.textAlign="left",void 0!==e.inputTeamNameB[i]&&t.fillText(e.inputTeamNameB[i],1063,430+180*i)},i=0;i<e.count;i++)m(i);var c=150,d=t.measureText(e.dayNo).width;d>125&&(c=Math.floor(c*(125/d))),t.font="bold ".concat(c,"px 'Noto Sans JP', sans-serif"),t.fillStyle="white",t.fillText(e.dayNo,1008,275);c=40;var h=t.measureText(e.seasonNo).width;h>900&&(c=Math.floor(c*(900/h))),t.font="bold ".concat(c,"px 'Noto Sans JP', sans-serif"),t.fillStyle="#332771";var v=(1339-t.measureText(e.seasonNo).width)/2+522;t.fillText(e.seasonNo,v,126),console.log("seasonTextWidth:"+h),console.log("x:"+v);var f=211,I=new Image;e.logoImageCommentary&&e.logoImageCommentary.type&&e.logoImageCommentary.type.match("image/")&&(I.src=URL.createObjectURL(e.logoImageCommentary),I.onload=function(){t.drawImage(I,222,68,f,f),URL.revokeObjectURL(I.src),e.imageDataURL=canvas.toDataURL()});var w=new Image;e.logoImageExplanation&&e.logoImageExplanation.type&&e.logoImageExplanation.type.match("image/")&&(w.src=URL.createObjectURL(e.logoImageExplanation),w.onload=function(){t.drawImage(w,1487,68,f,f),URL.revokeObjectURL(w.src),e.imageDataURL=canvas.toDataURL()}),e.imageDataURL=canvas.toDataURL()}},getDefaultLog:function(e){switch(e){case"ブルー":return 1;case"レッド":return 2;case"グリーン":return 3;case"オレンジ":return 4;default:return null}},selectLogo:function(e){var t=this.logoData.find((function(t){return t.id===e}));return t?this.defaultLogoPath+t.image+".png":null}}}),r=(o(351),o(38)),component=Object(r.a)(n,(function(){var e=this,t=e._self._c;return t("v-row",{attrs:{justify:"center",align:"center"}},[t("v-col",{attrs:{cols:"12"}},[t("v-card",{staticClass:"mb-3"},[t("v-card-title",{staticClass:"headline"},[e._v("\n                Todays Result\n            ")]),e._v(" "),t("v-card-text",[e._l(e.count,(function(i){return t("v-row",{key:i,attrs:{justify:"start"}},[t("v-col",{attrs:{cols:"12"}},[t("div",{staticClass:"text-subtitle-1"},[e._v("Result"+e._s(i))])]),e._v(" "),t("v-col",{attrs:{cols:"5"}},[t("v-text-field",{attrs:{label:"Team NameA"},model:{value:e.inputTeamNameA[i-1],callback:function(t){e.$set(e.inputTeamNameA,i-1,t)},expression:"inputTeamNameA[i - 1]"}})],1),e._v(" "),t("v-col",{attrs:{cols:"3"}},[t("v-file-input",{attrs:{label:"Logo ImageA",disabled:e.defaultLogoA[i-1]},model:{value:e.logoImageA[i-1],callback:function(t){e.$set(e.logoImageA,i-1,t)},expression:"logoImageA[i - 1]"}})],1),e._v(" "),t("v-col",{attrs:{cols:"2"}},[t("v-select",{attrs:{items:e.logoData,"item-text":"name","item-value":"id",density:"compact",label:"Default LogoA",disabled:e.logoImageA[i-1]},model:{value:e.defaultLogoA[i-1],callback:function(t){e.$set(e.defaultLogoA,i-1,t)},expression:"defaultLogoA[i - 1]"}})],1),e._v(" "),t("v-col",{attrs:{cols:"1"}},[e.defaultLogoA[i-1]?t("v-img",{attrs:{src:e.selectLogo(e.defaultLogoA[i-1]),"max-height":"50","max-width":"50"}}):e._e()],1),e._v(" "),t("v-col",{attrs:{cols:"1"}},[t("v-select",{attrs:{items:[0,1,2,3],label:"ScoreA"},model:{value:e.inputScoreA[i-1],callback:function(t){e.$set(e.inputScoreA,i-1,t)},expression:"inputScoreA[i - 1]"}})],1),e._v(" "),t("v-col",{attrs:{cols:"5"}},[t("v-text-field",{attrs:{label:"Team NameB"},model:{value:e.inputTeamNameB[i-1],callback:function(t){e.$set(e.inputTeamNameB,i-1,t)},expression:"inputTeamNameB[i - 1]"}})],1),e._v(" "),t("v-col",{attrs:{cols:"3"}},[t("v-file-input",{attrs:{label:"Logo ImageB",disabled:e.defaultLogoB[i-1]},model:{value:e.logoImageB[i-1],callback:function(t){e.$set(e.logoImageB,i-1,t)},expression:"logoImageB[i - 1]"}})],1),e._v(" "),t("v-col",{attrs:{cols:"2"}},[t("v-select",{attrs:{items:e.logoData,"item-text":"name","item-value":"id",density:"compact",label:"Default LogoB",disabled:e.logoImageB[i-1]},model:{value:e.defaultLogoB[i-1],callback:function(t){e.$set(e.defaultLogoB,i-1,t)},expression:"defaultLogoB[i - 1]"}})],1),e._v(" "),t("v-col",{attrs:{cols:"1"}},[e.defaultLogoB[i-1]?t("v-img",{attrs:{src:e.selectLogo(e.defaultLogoB[i-1]),"max-height":"50","max-width":"50"}}):e._e()],1),e._v(" "),t("v-col",{attrs:{cols:"1"}},[t("v-select",{attrs:{items:[0,1,2,3],label:"ScoreB"},model:{value:e.inputScoreB[i-1],callback:function(t){e.$set(e.inputScoreB,i-1,t)},expression:"inputScoreB[i - 1]"}})],1)],1)})),e._v(" "),t("v-row",{attrs:{justify:"start"}},[t("v-col",{attrs:{cols:"12"}},[t("div",{staticClass:"text-subtitle-1"},[e._v("配信サムネ作成")])]),e._v(" "),t("v-col",{attrs:{cols:"3"}},[t("v-text-field",{attrs:{label:"DAY"},model:{value:e.dayNo,callback:function(t){e.dayNo=t},expression:"dayNo"}})],1),e._v(" "),t("v-col",{attrs:{cols:"3"}},[t("v-text-field",{attrs:{label:"Season"},model:{value:e.seasonNo,callback:function(t){e.seasonNo=t},expression:"seasonNo"}})],1),e._v(" "),t("v-col",{attrs:{cols:"3"}},[t("v-file-input",{attrs:{label:"実況アイコン"},model:{value:e.logoImageCommentary,callback:function(t){e.logoImageCommentary=t},expression:"logoImageCommentary"}})],1),e._v(" "),t("v-col",{attrs:{cols:"3"}},[t("v-file-input",{attrs:{label:"解説アイコン"},model:{value:e.logoImageExplanation,callback:function(t){e.logoImageExplanation=t},expression:"logoImageExplanation"}})],1)],1)],2),e._v(" "),t("v-card-actions",[t("v-spacer"),e._v(" "),t("v-btn",{attrs:{color:"primary"},on:{click:e.generateImage}},[e._v(" スライド作成 ")]),e._v(" "),t("v-btn",{attrs:{color:"red darken-3"},on:{click:e.generateImageThumbnail}},[e._v("サムネイル作成")])],1)],1),e._v(" "),t("v-card",{directives:[{name:"show",rawName:"v-show",value:e.imageDataURL,expression:"imageDataURL"}],staticClass:"pt-1 pr-1 pl-1"},[t("canvas",{ref:"imageCanvas",staticClass:"confirm-image",attrs:{width:e.canvasWidth,height:e.canvasHeight}}),e._v(" "),t("v-card-actions",[t("v-spacer"),e._v(" "),e.imageDataURL?t("v-btn",{attrs:{color:"primary",href:e.imageDataURL,download:e.imageName}},[e._v("Download\n                    Image")]):e._e()],1)],1)],1)],1)}),[],!1,null,"7ec53be0",null);t.default=component.exports}}]);